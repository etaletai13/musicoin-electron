{"version":3,"sources":["infer/inferTitle.js"],"names":["USER_AGENT","inferTitle","url","options","method","headers","then","data","$","cheerio","load","first","text","replace"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,aACJ,yHADF;;AAGA,SAASC,UAAT,CAAoBC,GAApB,EAAyB;AACvB,MAAMC,UAAU;AACdC,YAAQ,KADM;AAEdF,OAFc;AAGdG,aAAS;AACP;AACA,oBAAcL;AAFP;AAHK,GAAhB;;AASA,SAAO,qBAAMG,OAAN,EAAeG,IAAf,CAAoB,gBAAc;AAAA,QAAXC,IAAW,QAAXA,IAAW;;AACvC,QAAMC,IAAIC,kBAAQC,IAAR,CAAaH,IAAb,CAAV;AACA,WAAOC,EAAE,OAAF,EACJG,KADI,GAEJC,IAFI,GAGJC,OAHI,CAGI,KAHJ,EAGW,EAHX,CAAP;AAID,GANM,CAAP;AAOD;;kBAEcZ,U","file":"inferTitle.js","sourcesContent":["import axios from 'axios';\nimport cheerio from 'cheerio';\n\nconst USER_AGENT =\n  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.1 Safari/537.36';\n\nfunction inferTitle(url) {\n  const options = {\n    method: 'get',\n    url,\n    headers: {\n      // fake a user agent because pages like http://messenger.com will throw 404 error\n      'User-Agent': USER_AGENT,\n    },\n  };\n\n  return axios(options).then(({ data }) => {\n    const $ = cheerio.load(data);\n    return $('title')\n      .first()\n      .text()\n      .replace(/\\//g, '');\n  });\n}\n\nexport default inferTitle;\n"]}